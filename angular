import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Router } from '@angular/router';

@Injectable({
  providedIn: 'root'
})
export class FormService {

  addUserToDB(data:any){
   // console.log(data);
   this.http.post('https://tiaa-angular-3b2b0-default-rtdb.firebaseio.com/udata.json',data)
   .subscribe((res)=>{
     console.log(res);

   })

  }
  loadUserFromDB(){
  return this.http.get('https://tiaa-angular-3b2b0-default-rtdb.firebaseio.com/udata.json')
  }

  constructor(private http:HttpClient,private route:Router) { }

   loginValid(data:any){
     if(data.uname==='admin' && data.pass==='manager'){

      this.route.navigateByUrl('/userdetails')
     }

   }

}

----

import { Component, OnInit } from '@angular/core';
import { FormGroup, FormControl, Validators } from '@angular/forms';
import { FormService } from 'src/app/shared/services/form.service';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html',
  styleUrls: ['./login.component.css']
})
export class LoginComponent {

  myForm:FormGroup
  uname:FormControl
  pass:FormControl


  createForm(){
    this.myForm=new FormGroup({
      uname:this.uname,
      pass:this.pass,

    })
  }

  createFormControls(){
    this.uname= new FormControl('',Validators.required)
    this.pass= new FormControl('',Validators.required)

  }

constructor(private fs:FormService) {
  this.createFormControls()
 this.createForm()
 }


login(){

this.fs.loginValid(this.myForm.value)
this.myForm.reset()

}


}


-----

<div class="container">
  <div class="card">
    <div class="card-header text-center">
      <h3>User Login Form</h3>
    </div>

    <div class="card-body">
      <form [formGroup]='myForm' (ngSubmit)='login()'>
      <div class="form-group row">

        <label class='col-sm-1 col-form-label'>Username</label>
        <div class=col-sm-3><input type="text" class="form-control" formControlName='uname'/></div>

        <div *ngIf='uname.invalid && (uname.dirty || uname.touched)'><p>username cant be empty</p></div>

      </div>

      <div class="form-group row">
        <label class='col-sm-1 col-form-label'>Password</label>
        <div class=col-sm-3><input type="password" class="form-control" formControlName='pass'/></div>


      </div>
      <button class='btn btn-success' [disabled]='myForm.invalid'>Register</button> | <button type="reset" class='btn btn-primary'>Cancel</button>
      <div class="card-footer text-body-secondary text-center">
        @ copyright Tiaa.com
      </div>
    </form>

    </div>
    <hr>

  </div>
